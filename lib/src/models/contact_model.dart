import 'package:flutter/material.dart';

class ContactModelList {
  List<ContactModel> contactModelList = List<ContactModel>();

  ContactModelList() {
    ContactModel contactModel;
    contactModel = ContactModel(firstname: 'Alexandra', secondname: 'Tolentino', lastname: 'Bautista');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Abel', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Abigaíl', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Barra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Barre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Barri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Barro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Barru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Carra', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Carre', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Carri', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Carro', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Carru', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Darra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Darre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Darri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Darro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Darru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Earra', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Earre', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Earri', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Earro', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Earru', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Farra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Farre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Farri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Farro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Farru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Garra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Garre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Garri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Garro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Garru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Harra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Harre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Harri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Harro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Harru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Iarra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Iarre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Iarri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Iarro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Iarru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Jarra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Jarre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Jarri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Jarro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Jarru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Karra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Karre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Karri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Karro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Karru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Larra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Larre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Larri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Larro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Larru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Marra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Marre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Marri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Marro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Marru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Narra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Narre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Narri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Narro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Narru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Oarra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Oarre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Oarri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Oarro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Oarru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Parra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Parre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Parri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Parro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Parru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Qarra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Qarre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Qarri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Qarro', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Qarru', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Rarra', secondname: 'Germano');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Sarre', secondname: 'Tolentino');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Tarri', secondname: 'Hebreo');
    contactModelList.add(contactModel);
    contactModel = ContactModel(firstname: 'Uarro', secondname: 'Germano');
    contactModelList.add(contactModel);
    //contactModel = ContactModel(firstname: 'Alicia', secondname: 'En el país', lastname: 'De las maravillas');
    //contactModelList.add(contactModel);
  }

  sortByName() {
     return contactModelList.sort((a, b) {
      return a.firstname.toLowerCase().compareTo(b.firstname.toLowerCase());
    });
  }

  groupByFirstLetter() {
    String prevFirstLetter = 'A';
    String firstLetter;
    
    List<Map<String, dynamic>> responseList = List<Map<String, dynamic>>();
    Map<String, dynamic> item = Map<String, dynamic>();
    List<Map<String, dynamic>> contactList = List<Map<String, dynamic>>();


    contactModelList.forEach((contactModel) {
      firstLetter = contactModel.firstname.substring(0, 1).toUpperCase();

      if (prevFirstLetter != firstLetter) {        
        item["firstLetterContact"] = prevFirstLetter;
        item["contacts"] = contactList;
        responseList.add(item);

        //reiniciar
        contactList = List<Map<String, dynamic>>();
        item = Map<String, dynamic>(); 
        prevFirstLetter = firstLetter;
      }
      
      contactList.add(contactModel.toJson());
        
    });

    item["firstLetterContact"] = prevFirstLetter;
    item["contacts"] = contactList;
    responseList.add(item);

    //print(responseList[5]);
    return responseList;
  }
}

class ContactModel {
  String firstname;
  String secondname;
  String lastname;

  ContactModel({
    @required this.firstname,
    this.secondname = '',
    this.lastname = ''
  });

  Map<String, dynamic> toJson() => {
    'firstname': firstname,
    'secondname': secondname,
    'lastname': lastname
  };

}